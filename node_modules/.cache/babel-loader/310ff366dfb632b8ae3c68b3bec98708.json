{"ast":null,"code":"var _jsxFileName = \"/industry/app/src/WholeView/index.js\";\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core';\nimport styled from '@emotion/styled';\nimport React, { Component } from 'react';\nimport { Map, Marker, NavigationControl, InfoWindow } from 'react-bmap';\n\nconst CustomComponent = props => {\n  console.log('获取map对象', props.map);\n  return jsx(\"div\", {\n    style: {\n      position: 'absolute',\n      left: '0',\n      top: '0',\n      color: 'white'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, \"\\u81EA\\u5B9A\\u4E49\\u7EC4\\u4EF6\");\n};\n\nclass WholeView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n\n    this.MP = ak => {\n      return new Promise(function (resolve, reject) {\n        const script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.dataset.name = 'map';\n        script.src = \"https://api.map.baidu.com/api?v=3.0&ak=\".concat(ak, \"&callback=init&s=1\"); //callback调用init函数。\n\n        document.head.appendChild(script);\n\n        window.init = () => {\n          resolve(map);\n        };\n      });\n    };\n\n    this.getEvents = () => {\n      return {\n        click: e => {\n          console.log('map click event', e.type);\n        }\n      };\n    };\n\n    this.ak = 'dQ8OqL5FThGeCISCscU2cKFOzsbenmIS';\n  }\n\n  componentDidMount() {\n    this.MP(this.ak).then(map => {\n      console.log(map);\n    });\n  }\n\n  render() {\n    return jsx(\"div\", {\n      className: \"mapContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default WholeView;","map":{"version":3,"sources":["/industry/app/src/WholeView/index.js"],"names":["jsx","css","styled","React","Component","Map","Marker","NavigationControl","InfoWindow","CustomComponent","props","console","log","map","position","left","top","color","WholeView","constructor","state","MP","ak","Promise","resolve","reject","script","document","createElement","type","dataset","name","src","head","appendChild","window","init","getEvents","click","e","componentDidMount","then","render"],"mappings":";;AAAA;AACA,SAASA,GAAT,EAAcC,GAAd,QAAyB,eAAzB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,iBAAtB,EAAyCC,UAAzC,QAA2D,YAA3D;;AAEA,MAAMC,eAAe,GAAIC,KAAD,IAAS;AAC7BC,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,KAAK,CAACG,GAA7B;AACA,SAAO;AAAK,IAAA,KAAK,EAAE;AAACC,MAAAA,QAAQ,EAAE,UAAX;AAAuBC,MAAAA,IAAI,EAAE,GAA7B;AAAkCC,MAAAA,GAAG,EAAE,GAAvC;AAA6CC,MAAAA,KAAK,EAAE;AAApD,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAAP;AACH,CAHD;;AAIA,MAAMC,SAAN,SAAwBd,SAAxB,CAAiC;AAC/Be,EAAAA,WAAW,CAACT,KAAD,EAAO;AAChB,UAAMA,KAAN;AADgB,SAIlBU,KAJkB,GAIV,EAJU;;AAAA,SAOlBC,EAPkB,GAOZC,EAAD,IAAM;AACT,aAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3C,cAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACAF,QAAAA,MAAM,CAACG,IAAP,GAAc,iBAAd;AACAH,QAAAA,MAAM,CAACI,OAAP,CAAeC,IAAf,GAAsB,KAAtB;AACAL,QAAAA,MAAM,CAACM,GAAP,oDAAuDV,EAAvD,wBAJ2C,CAImC;;AAC9EK,QAAAA,QAAQ,CAACM,IAAT,CAAcC,WAAd,CAA0BR,MAA1B;;AACAS,QAAAA,MAAM,CAACC,IAAP,GAAc,MAAM;AAClBZ,UAAAA,OAAO,CAACX,GAAD,CAAP;AACD,SAFD;AAGD,OATM,CAAP;AAUD,KAlBiB;;AAAA,SA2BlBwB,SA3BkB,GA2BN,MAAI;AACV,aAAO;AACHC,QAAAA,KAAK,EAAGC,CAAD,IAAO;AACV5B,UAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B2B,CAAC,CAACV,IAAjC;AACH;AAHE,OAAP;AAKH,KAjCe;;AAEhB,SAAKP,EAAL,GAAU,kCAAV;AACD;;AAgBDkB,EAAAA,iBAAiB,GAAE;AACjB,SAAKnB,EAAL,CAAQ,KAAKC,EAAb,EAAiBmB,IAAjB,CAAsB5B,GAAG,IAAE;AACzBF,MAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACD,KAFD;AAKD;;AAWD6B,EAAAA,MAAM,GAAE;AACN,WACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAKD;;AA3C8B;;AA+CjC,eAAexB,SAAf","sourcesContent":["/** @jsx jsx */\r\nimport { jsx, css } from '@emotion/core'\r\nimport styled from '@emotion/styled'\r\nimport React, { Component } from 'react'\r\nimport { Map, Marker, NavigationControl, InfoWindow } from 'react-bmap'\r\n\r\nconst CustomComponent = (props)=>{\r\n    console.log('获取map对象', props.map);\r\n    return <div style={{position: 'absolute', left: '0', top: '0',  color: 'white'}}>自定义组件</div>;\r\n}\r\nclass WholeView extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.ak = 'dQ8OqL5FThGeCISCscU2cKFOzsbenmIS'\r\n  }\r\n  state = {\r\n\r\n  }\r\n  MP = (ak)=>{\r\n    return new Promise(function(resolve, reject) {\r\n      const script = document.createElement('script')\r\n      script.type = 'text/javascript'\r\n      script.dataset.name = 'map'\r\n      script.src = `https://api.map.baidu.com/api?v=3.0&ak=${ak}&callback=init&s=1` //callback调用init函数。\r\n      document.head.appendChild(script)\r\n      window.init = () => {\r\n        resolve(map)\r\n      }\r\n    })\r\n  }\r\n  componentDidMount(){\r\n    this.MP(this.ak).then(map=>{\r\n      console.log(map)\r\n    })\r\n\r\n\r\n  }\r\n\r\n  getEvents = ()=>{\r\n        return {\r\n            click: (e) => {\r\n                console.log('map click event', e.type);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  render(){\r\n    return (\r\n      <div className='mapContainer'>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default WholeView\r\n"]},"metadata":{},"sourceType":"module"}