{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tip = require('./Tip.js');\n\nvar _Tip2 = _interopRequireDefault(_Tip);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction DraggingTip(options) {\n  this.options = options;\n  var map = options.map;\n  var point = options.point;\n  this.point = point;\n  var name = options.name;\n  this.map = map;\n  var tip = this.tip = new _Tip2.default(options);\n  var icon = new BMap.Icon(\"//huiyan.baidu.com/github/tools/gis-drawing/static/images/drag.png\", new BMap.Size(25, 25), {\n    imageSize: new BMap.Size(25, 25)\n  });\n  var marker = this.marker = new BMap.Marker(this.point);\n  marker.setIcon(icon);\n  marker.setShadow(icon);\n  var self = this;\n  marker.addEventListener('dragging', function () {\n    self.point = marker.point;\n    tip.setPosition(marker.point);\n    options.change && options.change();\n  });\n  marker.addEventListener('dragend', function () {\n    options.changePosition && options.changePosition(self.point);\n  });\n  marker.enableDragging();\n}\n\nDraggingTip.prototype.show = function () {\n  this.map.addOverlay(this.marker);\n  this.map.addOverlay(this.tip);\n\n  if (this.options.isShowTipArrow === false) {\n    this.tip.hideArrow();\n  }\n};\n\nDraggingTip.prototype.hide = function () {\n  this.map.removeOverlay(this.marker);\n  this.map.removeOverlay(this.tip);\n};\n\nDraggingTip.prototype.setNumberLeft = function () {\n  this.tip.setNumberLeft();\n};\n\nDraggingTip.prototype.setNumberRight = function () {\n  this.tip.setNumberRight();\n};\n\nDraggingTip.prototype.hideNumber = function () {\n  this.tip.hideNumber();\n};\n\nexports.default = DraggingTip;","map":null,"metadata":{},"sourceType":"script"}