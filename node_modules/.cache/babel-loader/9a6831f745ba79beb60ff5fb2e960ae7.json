{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar positions = {\n  '#ee5d5b': '0 0',\n  '#ff9625': '0 -10px',\n  '#6caeca': '0 -20px'\n};\nvar borderColors = {\n  '#ee5d5b': '#BC3B3A',\n  '#ff9625': '#c57f1d',\n  '#6caeca': '#5188a5'\n};\n\nfunction Tip(options) {\n  options = options || {};\n  this._point = options.point;\n  this._text = options.name;\n  this._index = options.index;\n  this._numberDirection = options.numberDirection || 'left';\n  this._isShowNumber = options.isShowNumber !== undefined ? options.isShowNumber : true;\n  this.color = options.color || '#ee5d5b';\n}\n\nTip.prototype = new BMap.Overlay();\n\nTip.prototype.changeColor = function (color) {\n  if (this._div) {\n    this._div.style.backgroundColor = color;\n    this._div.style.borderColor = borderColors[color];\n    this._arrow.style.backgroundPosition = positions[color];\n  }\n};\n\nTip.prototype.initialize = function (map) {\n  this._map = map;\n  var div = this._div = document.createElement(\"div\");\n  div.style.position = \"absolute\";\n  div.style.zIndex = BMap.Overlay.getZIndex(this._point.lat);\n  div.style.backgroundColor = this.color;\n  div.style.border = \"1px solid \" + borderColors[this.color];\n  div.style.color = \"white\";\n  div.style.height = \"38px\";\n  div.style.boxSizing = 'border-box';\n  div.style.padding = \"5px\";\n  div.style.whiteSpace = \"nowrap\";\n  div.style.MozUserSelect = \"none\";\n  div.style.fontSize = \"18px\";\n  div.style.border = \"1px solid #a67972\";\n  div.style.color = \"#494947\";\n  div.style.background = \"#fff\";\n  div.style.borderRadius = '25px';\n  div.style.paddingLeft = '30px';\n  var span = this._span = document.createElement(\"span\");\n  div.appendChild(span);\n  span.appendChild(document.createTextNode(this._text));\n  var that = this;\n  var arrow = this._arrow = document.createElement(\"div\");\n  arrow.style.backgroundPosition = positions[this.color];\n  arrow.style.position = \"absolute\";\n  arrow.style.width = \"11px\";\n  arrow.style.height = \"10px\";\n  arrow.style.top = \"26px\";\n  arrow.style.left = \"10px\";\n  arrow.style.overflow = \"hidden\";\n  div.appendChild(arrow);\n  var number = this._number = document.createElement(\"div\");\n  number.style.background = this.color || \"#f15e5c\";\n  number.style.color = \"#fff\";\n  number.style.position = \"absolute\";\n  number.style.top = \"3px\";\n  number.style.position = \"absolute\";\n  number.style.textAlign = \"center\";\n  number.style.height = \"30px\";\n  number.style.width = \"30px\";\n  number.style.lineHeight = \"30px\";\n  number.style.borderRadius = \"30px\";\n\n  if (this._isShowNumber === false) {\n    number.style.display = 'none';\n  }\n\n  this.renderDirection();\n  number.innerHTML = this._index;\n  div.appendChild(number);\n  map.getPanes().labelPane.appendChild(div);\n  return div;\n};\n\nTip.prototype.setNumberLeft = function () {\n  this._numberDirection = 'left';\n  this.renderDirection();\n};\n\nTip.prototype.setNumberRight = function () {\n  this._numberDirection = 'right';\n  this.renderDirection();\n};\n\nTip.prototype.renderDirection = function () {\n  if (this._numberDirection == 'left') {\n    if (this._isShowNumber) {\n      this._div.style.paddingLeft = '38px';\n    } else {\n      this._div.style.paddingLeft = '8px';\n    }\n\n    this._div.style.paddingRight = '8px';\n    this._number.style.left = \"5px\";\n    this._number.style.right = \"initial\";\n  } else {\n    this._div.style.paddingLeft = '8px';\n\n    if (this._isShowNumber) {\n      this._div.style.paddingRight = '38px';\n    } else {\n      this._div.style.paddingRight = '8px';\n    }\n\n    this._number.style.left = \"initial\";\n    this._number.style.right = \"5px\";\n  }\n};\n\nTip.prototype.hideNumber = function () {\n  this._isShowNumber = false;\n  this._number.style.display = \"none\";\n  this.renderDirection();\n};\n\nTip.prototype.setPosition = function (point) {\n  this._point = point;\n  this.draw();\n};\n\nTip.prototype.hideArrow = function () {\n  this._arrow.style.display = 'none';\n};\n\nTip.prototype.draw = function () {\n  var map = this._map;\n  this._span.innerHTML = this._text;\n  var pixel = map.pointToOverlayPixel(this._point);\n  this._div.style.left = pixel.x + 5 + \"px\";\n  this._div.style.top = pixel.y - 20 + \"px\";\n};\n\nexports.default = Tip;","map":null,"metadata":{},"sourceType":"script"}