{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // 自定义覆盖物\n\nfunction CustomOverlay(point, content, options) {\n  this.options = options || {};\n  this._point = point;\n  this.content = content;\n}\n\nCustomOverlay.prototype = new BMap.Overlay();\n\nCustomOverlay.prototype.initialize = function (map) {\n  this._map = map;\n  var div = this._div = document.createElement(\"div\");\n  div.setAttribute('tag', 'customoverlay');\n  div.style.position = \"absolute\";\n  var zIndex = this.options.zIndex || BMap.Overlay.getZIndex(this._point.lat);\n  div.style.zIndex = zIndex;\n  div.addEventListener('touchstart', function (e) {\n    e.stopPropagation();\n    console.log('touchstart');\n  });\n  /*\n  div.addEventListener('touchmove', function (e) {\n      e.stopPropagation();\n      console.log('touchmove');\n  });\n  */\n\n  div.addEventListener('touchend', function (e) {\n    e.stopPropagation();\n    console.log('touchend');\n  });\n\n  if (Object.prototype.toString.call(this.content) == \"[object String]\") {\n    div.innerHTML = this.content;\n  } else {\n    div.appendChild(this.content);\n  }\n\n  var pane = this.options.pane || 'labelPane';\n  map.getPanes()[pane].appendChild(div);\n  return div;\n};\n\nCustomOverlay.prototype.draw = function () {\n  var map = this._map;\n  var pixel = map.pointToOverlayPixel(this._point);\n  var offset = this.options.offset || new BMap.Size(0, 0);\n  this._div.style.left = pixel.x + offset.width + \"px\";\n  this._div.style.top = pixel.y + offset.height + \"px\";\n};\n\nexports.default = CustomOverlay;","map":null,"metadata":{},"sourceType":"script"}