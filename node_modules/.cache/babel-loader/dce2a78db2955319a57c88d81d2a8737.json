{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n *方法说明\n * @method 找出src2与src1不同的部分      \n * @param {Object} src1 比较的基本对象\n * @param {Object} src2 被比较的对象\n * @return {Object} diffObj 返回一个新的Object对象diffObj\n *         src1有，src2没有的部分 diffObj[k]=undefined;\n *         src1没有，src2有的部分 diffObj[k]=src2[k];\n */\n\nvar diff = function diff(src1, src2) {\n  var diffObj = {};\n\n  var _diff = function _diff(base, src, df) {\n    var ko = {};\n    base && Object.keys(base).map(function (k) {\n      ko[k] = true;\n    });\n    src && Object.keys(src).map(function (k) {\n      ko[k] = true;\n    });\n\n    for (var k in ko) {\n      if (base[k] && Object.prototype.toString.call(base[k]) == '[object Object]' && src[k] && Object.prototype.toString.call(src[k]) == '[object Object]') {\n        if (JSON.stringify(base[k]) !== JSON.stringify(src[k])) {\n          if (!df[k]) {\n            df[k] = {};\n          }\n\n          var _df = df[k];\n\n          _diff(base[k], src[k], _df);\n        } else {\n          df[k] = src[k];\n        }\n      } else {\n        df[k] = src[k];\n      }\n    }\n  };\n\n  _diff(src1, src2, diffObj);\n\n  if (Object.keys(diffObj).length == 0) {\n    diffObj = null;\n  }\n\n  return diffObj;\n};\n\nexports.default = diff;","map":null,"metadata":{},"sourceType":"script"}