{"ast":null,"code":"var _jsxFileName = \"/industry/app/src/WholeView/index.js\";\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core';\nimport styled from '@emotion/styled';\nimport React, { Component } from 'react';\n\nclass WholeView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.ak = 'dQ8OqL5FThGeCISCscU2cKFOzsbenmIS';\n  }\n\n  // MP = (ak)=>{\n  //   return new Promise(function(resolve, reject) {\n  //     if (typeof BMap !== 'undefined') {\n  //       resolve()\n  //       return\n  //     }\n  //     window.init = ()=>{\n  //       resolve()\n  //     }\n  //\n  //\n  //     let script = document.createElement('script')\n  //     script.type = 'text/javascript'\n  //     script.dataset.name = 'map'\n  //     script.src = `https://api.map.baidu.com/api?v=3.0&ak=${ak}&callback=init` //callback调用init函数。\n  //     document.head.appendChild(script)\n  //\n  //   })\n  // }\n  componentDidMount() {\n    // this.MP(this.ak).then(BMap=>{\n    //   const map = new BMap.Map('mapContainer')\n    // })\n    const loadJScript = () => {\n      var script = document.createElement(\"script\");\n      script.type = \"text/javascript\";\n      script.src = \"http://api.map.baidu.com/api?v=3.0&ak=dQ8OqL5FThGeCISCscU2cKFOzsbenmIS&callback=init\";\n      document.body.appendChild(script);\n    };\n\n    window.init = () => {\n      const curBMap = '';\n\n      if (BMap) {\n        curBMap = BMap;\n      } //console.log(BMap)\n\n\n      if (!curBMap) {\n        return;\n      } else {\n        var map = new curBMap.Map(\"allmap\"); // 创建Map实例\n\n        var point = new curBMap.Point(116.404, 39.915); // 创建点坐标\n\n        map.centerAndZoom(point, 15);\n        map.enableScrollWheelZoom(); //启用滚轮放大缩小\n      }\n    };\n\n    loadJScript();\n  }\n\n  render() {\n    return jsx(\"div\", {\n      id: \"allmap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default WholeView;","map":{"version":3,"sources":["/industry/app/src/WholeView/index.js"],"names":["jsx","css","styled","React","Component","WholeView","constructor","props","state","ak","componentDidMount","loadJScript","script","document","createElement","type","src","body","appendChild","window","init","curBMap","BMap","map","Map","point","Point","centerAndZoom","enableScrollWheelZoom","render"],"mappings":";;AAAA;AACA,SAASA,GAAT,EAAcC,GAAd,QAAyB,eAAzB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAGA,MAAMC,SAAN,SAAwBD,SAAxB,CAAiC;AAC/BE,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AADgB,SAIlBC,KAJkB,GAIV,EAJU;AAEhB,SAAKC,EAAL,GAAU,kCAAV;AACD;;AAID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,EAAAA,iBAAiB,GAAE;AACjB;AACA;AACA;AAEA,UAAMC,WAAW,GAAG,MAAI;AACtB,UAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACAF,MAAAA,MAAM,CAACG,IAAP,GAAc,iBAAd;AACAH,MAAAA,MAAM,CAACI,GAAP,GAAa,sFAAb;AACAH,MAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,MAA1B;AACD,KALD;;AAMAO,IAAAA,MAAM,CAACC,IAAP,GAAc,MAAI;AAEhB,YAAMC,OAAO,GAAG,EAAhB;;AACA,UAAGC,IAAH,EAAQ;AACND,QAAAA,OAAO,GAAGC,IAAV;AACD,OALe,CAMhB;;;AACA,UAAG,CAACD,OAAJ,EAAY;AACV;AACD,OAFD,MAEK;AACH,YAAIE,GAAG,GAAG,IAAIF,OAAO,CAACG,GAAZ,CAAgB,QAAhB,CAAV,CADG,CAC6C;;AAChD,YAAIC,KAAK,GAAG,IAAIJ,OAAO,CAACK,KAAZ,CAAkB,OAAlB,EAA2B,MAA3B,CAAZ,CAFG,CAE6C;;AAChDH,QAAAA,GAAG,CAACI,aAAJ,CAAkBF,KAAlB,EAAwB,EAAxB;AACAF,QAAAA,GAAG,CAACK,qBAAJ,GAJG,CAI0C;AAC9C;AACF,KAfD;;AAgBAjB,IAAAA,WAAW;AACZ;;AAGDkB,EAAAA,MAAM,GAAE;AACN,WACE;AAAM,MAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAKD;;AAhE8B;;AAoEjC,eAAexB,SAAf","sourcesContent":["/** @jsx jsx */\r\nimport { jsx, css } from '@emotion/core'\r\nimport styled from '@emotion/styled'\r\nimport React, { Component } from 'react'\r\n\r\n\r\nclass WholeView extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.ak = 'dQ8OqL5FThGeCISCscU2cKFOzsbenmIS'\r\n  }\r\n  state = {\r\n\r\n  }\r\n  // MP = (ak)=>{\r\n  //   return new Promise(function(resolve, reject) {\r\n  //     if (typeof BMap !== 'undefined') {\r\n  //       resolve()\r\n  //       return\r\n  //     }\r\n  //     window.init = ()=>{\r\n  //       resolve()\r\n  //     }\r\n  //\r\n  //\r\n  //     let script = document.createElement('script')\r\n  //     script.type = 'text/javascript'\r\n  //     script.dataset.name = 'map'\r\n  //     script.src = `https://api.map.baidu.com/api?v=3.0&ak=${ak}&callback=init` //callback调用init函数。\r\n  //     document.head.appendChild(script)\r\n  //\r\n  //   })\r\n  // }\r\n  componentDidMount(){\r\n    // this.MP(this.ak).then(BMap=>{\r\n    //   const map = new BMap.Map('mapContainer')\r\n    // })\r\n\r\n    const loadJScript = ()=>{\r\n      var script = document.createElement(\"script\");\r\n      script.type = \"text/javascript\";\r\n      script.src = \"http://api.map.baidu.com/api?v=3.0&ak=dQ8OqL5FThGeCISCscU2cKFOzsbenmIS&callback=init\";\r\n      document.body.appendChild(script);\r\n    }\r\n    window.init = ()=>{\r\n\r\n      const curBMap = ''\r\n      if(BMap){\r\n        curBMap = BMap\r\n      }\r\n      //console.log(BMap)\r\n      if(!curBMap){\r\n        return\r\n      }else{\r\n        var map = new curBMap.Map(\"allmap\");            // 创建Map实例\r\n        var point = new curBMap.Point(116.404, 39.915); // 创建点坐标\r\n        map.centerAndZoom(point,15);\r\n        map.enableScrollWheelZoom();                 //启用滚轮放大缩小\r\n      }\r\n    }\r\n    loadJScript()\r\n  }\r\n\r\n\r\n  render(){\r\n    return (\r\n      <div  id='allmap'>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default WholeView\r\n"]},"metadata":{},"sourceType":"module"}