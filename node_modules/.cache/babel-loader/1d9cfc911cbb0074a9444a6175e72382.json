{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* eslint-disable */\n\n/**\n * @file http\n */\n\n/* globals XMLHttpRequest window location document*/\n\n/**\n * get the data from url\n * auto use jsonp or ajax\n * @params 传入的参数\n * @params.url\n */\n\nfunction fetch(params) {\n  var fetchObj = null;\n\n  if (/^http(s{0,1}):\\/\\//.test(params.url)) {\n    var pageLoc = location.href.match(/^https{0,1}:\\/\\/(.+?)(?=\\/|$)/);\n    var ajaxLoc = params.url.match(/^https{0,1}:\\/\\/(.+?)(?=\\/|$)/);\n\n    if (pageLoc.length === 2 && ajaxLoc.length === 2 && ajaxLoc[1] === pageLoc[1]) {\n      fetchObj = this.ajax(params);\n    } else {\n      fetchObj = this.jsonp(params);\n    }\n  } else {\n    fetchObj = this.ajax(params);\n  }\n\n  return fetchObj;\n}\n/**\n * @params.method\n * @params.data\n * @params.url\n * @params.fail\n * @params.success\n */\n\n\nfunction download(url, fileName) {\n  var a = document.createElement('a');\n  a.style.display = 'none'; // 字符内容转变成blob地址\n\n  var blob = new Blob([url]);\n  a.href = URL.createObjectURL(blob);\n  a.href = url;\n\n  if (fileName) {\n    a.download = fileName;\n  }\n\n  document.body.appendChild(a); // 触发点击\n\n  a.click(); // 然后移除\n\n  document.body.removeChild(a); // var iframe  = document.createElement(\"iframe\");\n  // document.body.appendChild(iframe); \t\t\n  // iframe.src = url;\n  // iframe.style.display = \"none\";\n}\n\nexports.default = download;","map":null,"metadata":{},"sourceType":"script"}