{"ast":null,"code":"var _jsxFileName = \"/industry/app/src/WholeView/index.js\";\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core';\nimport styled from '@emotion/styled';\nimport React, { Component } from 'react';\n\nclass WholeView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n\n    this.MP = ak => {\n      return new Promise(function (resolve, reject) {\n        var script = document.createElement(\"script\");\n        script.type = \"text/javascript\";\n        script.src = \"http://api.map.baidu.com/api?v=3.0&ak=dQ8OqL5FThGeCISCscU2cKFOzsbenmIS\";\n        document.body.appendChild(script);\n\n        const isLoad = () => {\n          console.log(typeof BMap === 'undefined');\n          console.log(typeof BMap);\n\n          if (typeof BMap) {\n            console.log('成功');\n            resolve();\n            return;\n          } else {\n            console.log('石板');\n            isLoad();\n          }\n        };\n\n        isLoad();\n      });\n    };\n\n    this.ak = 'dQ8OqL5FThGeCISCscU2cKFOzsbenmIS';\n  }\n\n  componentDidMount() {\n    this.MP(this.ak).then(BMap => {\n      //const map = new BMap.Map('mapContainer')\n      console.log(BMap);\n    }); // const loadJScript = ()=>{\n    //   var script = document.createElement(\"script\");\n    //   script.type = \"text/javascript\";\n    //   script.src = \"http://api.map.baidu.com/api?v=3.0&ak=dQ8OqL5FThGeCISCscU2cKFOzsbenmIS&callback=init\";\n    //   document.body.appendChild(script);\n    // }\n    // window.init = ()=>{\n    //   if(typeof BMap !== undefined){\n    //     const map = new BMap.Map(\"allmap\");            // 创建Map实例\n    //     const point = new BMap.Point(116.404, 39.915); // 创建点坐标\n    //     map.centerAndZoom(point,15);\n    //     map.enableScrollWheelZoom();\n    //   }\n    // }\n    //loadJScript()\n  }\n\n  render() {\n    return jsx(\"div\", {\n      id: \"allmap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default WholeView;","map":{"version":3,"sources":["/industry/app/src/WholeView/index.js"],"names":["jsx","css","styled","React","Component","WholeView","constructor","props","state","MP","ak","Promise","resolve","reject","script","document","createElement","type","src","body","appendChild","isLoad","console","log","BMap","componentDidMount","then","render"],"mappings":";;AAAA;AACA,SAASA,GAAT,EAAcC,GAAd,QAAyB,eAAzB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAGA,MAAMC,SAAN,SAAwBD,SAAxB,CAAiC;AAC/BE,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AADgB,SAIlBC,KAJkB,GAIV,EAJU;;AAAA,SAOlBC,EAPkB,GAOZC,EAAD,IAAM;AACT,aAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3C,YAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACAF,QAAAA,MAAM,CAACG,IAAP,GAAc,iBAAd;AACAH,QAAAA,MAAM,CAACI,GAAP,GAAa,wEAAb;AACAH,QAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,MAA1B;;AACA,cAAMO,MAAM,GAAG,MAAI;AACjBC,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAOC,IAAP,KAAgB,WAA5B;AACAF,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAOC,IAAnB;;AACA,cAAI,OAAOA,IAAX,EAAiB;AACfF,YAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACAX,YAAAA,OAAO;AACP;AACD,WAJD,MAIK;AACHU,YAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACAF,YAAAA,MAAM;AACP;AACF,SAXD;;AAYAA,QAAAA,MAAM;AACP,OAlBM,CAAP;AAmBD,KA3BiB;;AAEhB,SAAKX,EAAL,GAAU,kCAAV;AACD;;AAyBDe,EAAAA,iBAAiB,GAAE;AACjB,SAAKhB,EAAL,CAAQ,KAAKC,EAAb,EAAiBgB,IAAjB,CAAsBF,IAAI,IAAE;AAC1B;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACD,KAHD,EADiB,CAMjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AAGDG,EAAAA,MAAM,GAAE;AACN,WACE;AAAM,MAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAKD;;AA3D8B;;AA+DjC,eAAetB,SAAf","sourcesContent":["/** @jsx jsx */\r\nimport { jsx, css } from '@emotion/core'\r\nimport styled from '@emotion/styled'\r\nimport React, { Component } from 'react'\r\n\r\n\r\nclass WholeView extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.ak = 'dQ8OqL5FThGeCISCscU2cKFOzsbenmIS'\r\n  }\r\n  state = {\r\n\r\n  }\r\n  MP = (ak)=>{\r\n    return new Promise(function(resolve, reject) {\r\n      var script = document.createElement(\"script\");\r\n      script.type = \"text/javascript\";\r\n      script.src = \"http://api.map.baidu.com/api?v=3.0&ak=dQ8OqL5FThGeCISCscU2cKFOzsbenmIS\";\r\n      document.body.appendChild(script);\r\n      const isLoad = ()=>{\r\n        console.log(typeof BMap === 'undefined')\r\n        console.log(typeof BMap)\r\n        if (typeof BMap) {\r\n          console.log('成功')\r\n          resolve()\r\n          return\r\n        }else{\r\n          console.log('石板')\r\n          isLoad()\r\n        }\r\n      }\r\n      isLoad()\r\n    })\r\n  }\r\n  componentDidMount(){\r\n    this.MP(this.ak).then(BMap=>{\r\n      //const map = new BMap.Map('mapContainer')\r\n      console.log(BMap)\r\n    })\r\n\r\n    // const loadJScript = ()=>{\r\n    //   var script = document.createElement(\"script\");\r\n    //   script.type = \"text/javascript\";\r\n    //   script.src = \"http://api.map.baidu.com/api?v=3.0&ak=dQ8OqL5FThGeCISCscU2cKFOzsbenmIS&callback=init\";\r\n    //   document.body.appendChild(script);\r\n    // }\r\n    // window.init = ()=>{\r\n    //   if(typeof BMap !== undefined){\r\n    //     const map = new BMap.Map(\"allmap\");            // 创建Map实例\r\n    //     const point = new BMap.Point(116.404, 39.915); // 创建点坐标\r\n    //     map.centerAndZoom(point,15);\r\n    //     map.enableScrollWheelZoom();\r\n    //   }\r\n    // }\r\n    //loadJScript()\r\n  }\r\n\r\n\r\n  render(){\r\n    return (\r\n      <div  id='allmap'>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default WholeView\r\n"]},"metadata":{},"sourceType":"module"}